#Ensure you set the AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY variables are stored in gitlab. masked and hide the secret access key
variables:
  VITE_APP_VERSION: $CI_COMMIT_SHORT_SHA

build_website:
  image: node:22-alpine
  stage: build
  script:
    - node --version
    - npm --version
    - npm ci
    - npm run build
  artifacts:
    paths: 
      - build/

aws_s3: #aws cli required an entrypoint override
 stage: .pre
 image: 
  name: amazon/aws-cli:2.23.0
  entrypoint: [""]
 script:
   - aws --version
   - aws s3 ls
